# Notifications

**But :** alerter **les bonnes personnes**, **au bon moment** et **de la bonne façon**.

Les notifications sont déclenchées lors du **passage en statut HARD** (état confirmé). Avant ça, l’objet surveillé peut passer par un **état SOFT** (alerte non encore validée).



## **🧪 États Soft vs Hard**

- **État SOFT** = test de confirmation (ex. plusieurs checks KO d’affilée).
- **État HARD** = état stable de panne → déclenche **notification**.
- Cela **évite les faux positifs** (petites coupures réseau, reboot, etc.).



## **📬 Mode de notification**

- Par défaut : **email** 📧 Mais possible d’utiliser : **SMS 📱, téléphone ☎️, syslog 📡**, webhook, etc.
- La notification s’appuie sur une **commande (notification command)**, équivalente aux commandes de check.

Exemple : send_mail(to, subject, body) avec des **variables dynamiques** remplies par Centreon.



## **👥 Ciblage des destinataires**

- **Éviter le spam d’alertes** : trop de bruit = perte d’attention.
- Ne notifier **que les personnes concernées** et disponibles (ex : pas l'équipe N1 la nuit).
- Différencier les **groupes** selon le **type de panne** (réseau vs système par exemple).
- Utiliser les **groupes de contacts** pour centraliser la gestion.



## **🏗️ Relation parent/enfant (Network Outage)**

- Si un **élément parent (ex : switch)** tombe, les **enfants (ex : serveurs)** deviennent **UNREACHABLE**, **pas DOWN**.
- Seul le **parent** est notifié ✅
- Cela évite de recevoir **50 alertes** pour 1 panne réelle.
- Configure dans Centreon la **relation de dépendance** entre équipements.



## **🧠 SPOF (Single Point of Failure)**

- Un **SPOF** est un point critique qui, s’il tombe, impacte tout un pan du SI.
- À identifier pour **réduire les Network Outages** et limiter les fausses alertes.
- Objectif : **chemin de dépendance le plus court possible** = moins de confusion dans les alertes.



## **⏱️ Fréquence & escalade des alertes**

- Notifications peuvent être envoyées : • **Une seule fois ou** • À **intervalles réguliers** jusqu’à **acquittement (ack)**
- Possibilité d’**escalader** une alerte (ex : si pas d’ack de N1 → envoyer à N2).
- Cela permet de **garantir un traitement** même en cas d’indisponibilité.



## **🧩 Héritage via modèles**

- Comportement des alertes (périodes, méthodes, groupes…) configurable dans les **modèles d’hôtes/services**.
- Permet de factoriser les réglages et d’assurer **cohérence + maintenance simplifiée**.

