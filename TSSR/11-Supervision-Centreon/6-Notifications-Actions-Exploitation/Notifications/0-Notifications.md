# Notifications

**But :** alerter **les bonnes personnes**, **au bon moment** et **de la bonne faÃ§on**.

Les notifications sont dÃ©clenchÃ©es lors du **passage en statut HARD** (Ã©tat confirmÃ©). Avant Ã§a, lâ€™objet surveillÃ© peut passer par un **Ã©tat SOFT** (alerte non encore validÃ©e).



## **ğŸ§ª Ã‰tats Soft vs Hard**

- **Ã‰tat SOFT** = test de confirmation (ex. plusieurs checks KO dâ€™affilÃ©e).
- **Ã‰tat HARD** = Ã©tat stable de panne â†’ dÃ©clenche **notification**.
- Cela **Ã©vite les faux positifs** (petites coupures rÃ©seau, reboot, etc.).



## **ğŸ“¬ Mode de notification**

- Par dÃ©faut : **email** ğŸ“§ Mais possible dâ€™utiliser : **SMS ğŸ“±, tÃ©lÃ©phone â˜ï¸, syslog ğŸ“¡**, webhook, etc.
- La notification sâ€™appuie sur une **commande (notification command)**, Ã©quivalente aux commandes de check.

Exemple : send_mail(to, subject, body) avec des **variables dynamiques** remplies par Centreon.



## **ğŸ‘¥ Ciblage des destinataires**

- **Ã‰viter le spam dâ€™alertes** : trop de bruit = perte dâ€™attention.
- Ne notifier **que les personnes concernÃ©es** et disponibles (ex : pas l'Ã©quipe N1 la nuit).
- DiffÃ©rencier les **groupes** selon le **type de panne** (rÃ©seau vs systÃ¨me par exemple).
- Utiliser les **groupes de contacts** pour centraliser la gestion.



## **ğŸ—ï¸ Relation parent/enfant (Network Outage)**

- Si un **Ã©lÃ©ment parent (ex : switch)** tombe, les **enfants (ex : serveurs)** deviennent **UNREACHABLE**, **pas DOWN**.
- Seul le **parent** est notifiÃ© âœ…
- Cela Ã©vite de recevoir **50 alertes** pour 1 panne rÃ©elle.
- Configure dans Centreon la **relation de dÃ©pendance** entre Ã©quipements.



## **ğŸ§  SPOF (Single Point of Failure)**

- Un **SPOF** est un point critique qui, sâ€™il tombe, impacte tout un pan du SI.
- Ã€ identifier pour **rÃ©duire les Network Outages** et limiter les fausses alertes.
- Objectif : **chemin de dÃ©pendance le plus court possible** = moins de confusion dans les alertes.



## **â±ï¸ FrÃ©quence & escalade des alertes**

- Notifications peuvent Ãªtre envoyÃ©es : â€¢ **Une seule fois ou** â€¢ Ã€ **intervalles rÃ©guliers** jusquâ€™Ã  **acquittement (ack)**
- PossibilitÃ© dâ€™**escalader** une alerte (ex : si pas dâ€™ack de N1 â†’ envoyer Ã  N2).
- Cela permet de **garantir un traitement** mÃªme en cas dâ€™indisponibilitÃ©.



## **ğŸ§© HÃ©ritage via modÃ¨les**

- Comportement des alertes (pÃ©riodes, mÃ©thodes, groupesâ€¦) configurable dans les **modÃ¨les dâ€™hÃ´tes/services**.
- Permet de factoriser les rÃ©glages et dâ€™assurer **cohÃ©rence + maintenance simplifiÃ©e**.

